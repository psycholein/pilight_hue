<ul>
  {% set items = output.getValues() %}
  {% for key in sorted(items) %}
    {% set item = items.get(key) %}
    <li data-room="{{ item.get('room') }}">
      <label>{{ item.get('room') }}:</label>
      <ol>
        <li class="sensor">
          Sensor:
          <span class="temperature">{{ item.get('temperature','') }}</span>°C,
          <span class="humidity">{{ item.get('humidity','') }}</span>%
        </li>
        {% if item.get('device', False) %}
          <li class="heat">
            Heizung:
            <span class="measured-temp">{{ item.get('measured-temp','') }}</span>°C
            <span>/</span>
            <span>
              <select class="desired-temp" name="{{ item.get('device') }}" data-route="setDesiredTemp" data-event="change">
                {% for i in range(30) %}
                  {% set temp = i * 0.5 + 15 %}
                  {% set desired = item.get('desired-temp','') %}
                  <option value="{{ temp }}" {% if str(desired) == str(temp) %}selected="selected"{% end %}>
                    {{ temp }}°C
                  </option>
                {% end %}
              </select>
              <span class="info">{{ item.get('info','') }}</span>
            </span>
          </li>
        {% end %}
      </ol>
    </li>
  {% end %}
</ul>
